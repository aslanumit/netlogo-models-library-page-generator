<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sandpile Simple</title>
    <link rel="stylesheet" href="../../../styles.css" />
  </head>
  <body>
    <main class="model-page">
      <a class="back-link" href="../../../index.html">← Back to list</a>
      <div class="model-card">
        <div class="model-header">
          <h1>Sandpile Simple</h1>
          <a class="run-button" href="https://netlogoweb.org/launch#https://netlogoweb.org/assets/modelslib/IABM%20Textbook/chapter%208/Sandpile%20Simple.nlogox" target="_blank" rel="noopener">Run on NetLogoWeb</a>
        </div>
        <img src="../../../../models/IABM Textbook/chapter 8/Sandpile Simple.png" alt="Screenshot of Sandpile Simple" />
        <div class="model-info"><h2>ACKNOWLEDGMENT</h2>
<p>This model is from Chapter Eight of the book "Introduction to Agent-Based Modeling: Modeling Natural, Social and Engineered Complex Systems with NetLogo", by Uri Wilensky &amp; William Rand.</p>
<ul>
<li>Wilensky, U. &amp; Rand, W. (2015). Introduction to Agent-Based Modeling: Modeling Natural, Social and Engineered Complex Systems with NetLogo. Cambridge, MA. MIT Press.</li>
</ul>
<p>This model is in the IABM Textbook folder of the NetLogo Models Library. The model, as well as any updates to the model, can also be found on the textbook website: http://www.intro-to-abm.com/.</p>
<h2>WHAT IS IT?</h2>
<p>The Bak–Tang–Wiesenfeld sandpile model demonstrates the concept of "self-organized criticality". It further demonstrates that complexity can emerge from simple rules and that a system can arrive at a critical state spontaneously rather than through the fine tuning of precise parameters. This is a simplified version of the original Sandpile model.</p>
<h2>HOW IT WORKS</h2>
<p>Imagine a table with sand on it. The surface of the table is a grid of squares. Each square can comfortably hold up to three grains of sand.</p>
<p>Now drop grains of sand on the table, one at a time. When a square reaches the overload threshold of four or more grains, all of the grains (not just the extras) are redistributed to the four neighboring squares.  The neighbors may in turn become overloaded, triggering an "avalanche" of further redistributions.</p>
<p>Sand grains can fall off the edge of the table, helping ensure the avalanche eventually ends.</p>
<p>Real sand grains, of course, don't behave quite like this. You might prefer to imagine that each square is a bureaucrat's desk, with folders of work piling up. When a bureaucrat's desk fills up, she clears her desk by passing the folders to her neighbors.</p>
<h2>HOW TO USE IT</h2>
<p>Press one of the SETUP buttons to clear and refill the table. You can start with random sand, or two grains per square, or an empty table.</p>
<p>The color scheme in the view is as follows: 0 grains = black, 1 grain = green, 2 grains = yellow, 3 grains = red.  If the DISPLAY-AVALANCHES? switch is on, overloaded patches are white.</p>
<p>Press GO to start dropping sand.  You can choose where to drop with DROP-LOCATION.</p>
<p>When DISPLAY-AVALANCHES? is on, you can watch each avalanche happening, and then when the avalanche is done, the areas touched by the avalanche flash white.</p>
<p>Push the speed slider to the right to get results faster.</p>
<h2>THINGS TO NOTICE</h2>
<p>The white flashes help you distinguish successive avalanches. They also give you an idea of how big each avalanche was.</p>
<p>Most avalanches are small. Occasionally a much larger one happens. How is it possible that adding one grain of sand at a time can cause so many squares to be affected?</p>
<p>Can you predict when a big avalanche is about to happen? What do you look for?</p>
<p>Leaving DISPLAY-AVALANCHES? on lets you watch the pattern each avalanche makes. How would you describe the patterns you see?</p>
<p>Observe the AVERAGE GRAIN COUNT plot. What happens to the average height of sand over time?</p>
<p>Observe the AVALANCHE SIZES plot. This histogram is on a log-log scale, which means both axes are logarithmic. What is the shape of the plot for a long run? You can use the CLEAR SIZE DATA button to throw away size data collected before the system reaches equilibrium.</p>
<h2>THINGS TO TRY</h2>
<p>Try all the different combinations of initial setups and drop locations. How does what you see near the beginning of a run differ?  After many ticks have passed, is the behavior still different?</p>
<p>Use an empty initial setup and drop sand grains in the center. This makes the system deterministic. What kind of patterns do you see? Is the sand pile symmetrical and if so, what type of symmetry is it displaying? Why does this happen? Each cell only knows about its neighbors, so how do opposite ends of the pile produce the same pattern if they can't see each other?  What shape is the pile, and why is this? If each cell only adds sand to the cell above, below, left and right of it, shouldn't the resulting pile be cross-shaped too?</p>
<h2>EXTENDING THE MODEL</h2>
<p>Add code that lets you use the mouse to choose where to drop the next grain yourself. Can you find places where adding one grain will result in an avalanche? If you have a symmetrical pile, then add a few strategic random grains of sand, then continue adding sand to the center of the pile --- what happens to the pattern?</p>
<p>Try a larger threshold than 4.</p>
<p>Try including diagonal neighbors in the redistribution, too.</p>
<p>Try redistributing sand to neighbors randomly, rather than always one per neighbor.</p>
<p>This model exhibits characteristics commonly observed in complex natural systems, such as self-organized criticality, fractal geometry, 1/f noise, and power laws.  These concepts are explained in more detail in Per Bak's book (see reference below). Add code to the model to measure these characteristics.</p>
<h2>NETLOGO FEATURES</h2>
<p>In the world settings, wrapping at the world edges is turned off.  Therefore the <code>neighbors4</code> primitive sometimes returns only two or three patches.</p>
<p>In order for the model to run fast, we need to avoid doing any operations that require iterating over all the patches. Avoiding that means keeping track of the set of patches currently involved in an avalanche. The key line of code is:</p>
<pre><code>set active-patches patch-set [neighbors4] of overloaded-patches
</code></pre>
<p>The same <code>setup</code> procedure is used to create a uniform initial setup or a random one. The difference is what task we pass it for each pass to run. See the Tasks section of the Programming Guide in the User Manual for more information on Tasks.</p>
<h2>RELATED MODELS</h2>
<ul>
<li>Sand</li>
<li>Sandpile</li>
<li>Sandpile 3D (in NetLogo 3D)</li>
</ul>
<h2>CREDITS AND REFERENCES</h2>
<p>This model is a simplified version of:</p>
<ul>
<li>Weintrop, D., Tisue, S., Tinker, R., Head, B. and Wilensky, U. (2011).  NetLogo Sandpile model.  http://ccl.northwestern.edu/netlogo/models/Sandpile.  Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.</li>
</ul>
<p>https://en.wikipedia.org/wiki/Abelian_sandpile_model</p>
<p>https://en.wikipedia.org/wiki/Self-organized_criticality</p>
<p>Bak, P. 1996. How nature works: the science of self-organized criticality. Copernicus, (Springer).</p>
<p>Bak, P., Tang, C., &amp; Wiesenfeld, K. 1987. Self-organized criticality: An explanation of the 1/f noise. Physical Review Letters, 59(4), 381.</p>
<p>The bureaucrats-and-folders metaphor is due to Peter Grassberger.</p>
<h2>HOW TO CITE</h2>
<p>This model is part of the textbook, “Introduction to Agent-Based Modeling: Modeling Natural, Social and Engineered Complex Systems with NetLogo.”</p>
<p>If you mention this model or the NetLogo software in a publication, we ask that you include the citations below.</p>
<p>For the model itself:</p>
<ul>
<li>Weintrop, D., Tisue, S., Tinker, R. Head, B. &amp; Wilensky, U. (2011).  NetLogo Sandpile Simple model.  http://ccl.northwestern.edu/netlogo/models/SandpileSimple.  Center for Connected Learning and Computer-Based Modeling, Northwestern Institute on Complex Systems, Northwestern University, Evanston, IL.</li>
</ul>
<p>Please cite the NetLogo software as:</p>
<ul>
<li>Wilensky, U. (1999). NetLogo. http://ccl.northwestern.edu/netlogo/. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.</li>
</ul>
<p>Please cite the textbook as:</p>
<ul>
<li>Wilensky, U. &amp; Rand, W. (2015). Introduction to Agent-Based Modeling: Modeling Natural, Social and Engineered Complex Systems with NetLogo. Cambridge, MA. MIT Press.</li>
</ul>
<h2>COPYRIGHT AND LICENSE</h2>
<p>Copyright 2011 Uri Wilensky.</p>
<p><img alt="CC BY-NC-SA 3.0" src="http://ccl.northwestern.edu/images/creativecommons/byncsa.png" /></p>
<p>This model is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License.  To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter to Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.</p>
<p>NetLogo itself is free software for non-commercial use under the terms of the GNU General Public License (<a href="https://ccl.northwestern.edu/netlogo/docs/copyright.html">see full license information here</a>).</p>
<p>To inquire about commercial licenses for either NetLogo or specific models from the models library, please contact netlogo-commercial-admin@ccl.northwestern.edu.</p>
<!-- 2011 Cite: Weintrop, D., Tisue, S., Tinker, R. Head, B. & Wilensky, U. --></div>
      </div>
    </main>
  </body>
</html>
